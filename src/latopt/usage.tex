\section{Tool Usage}
\label{sec:usage}

\todo{Place this somewhere else.}

Our tool is a source-to-source optimizer that specifically targets numerical
program statements written in a subset of standard C99.  Our tool
supports arithmetic and Boolean expressions, assignment statements, \iflit{}
statements, \whilelit{} loops and \forlit{} loops.  The numerical data types we
allow are $\inttype$ and $\floattype$, as well as single- and multi-dimensional
array types.

The program below is an example usage of our tool in a C program.  Note
that it specifies the input values are respectively a two-dimensional array
\verb|A|, where its elements are single-precision floating point values between
0 and 1, and an integer \verb|T| equals to 20.  It also indicates the only
output that we care from this code is the resultant \verb|A|.
\begin{lstlisting}
  #define N 1024
  #pragma opt begin
  #pragma opt in float A[N][N]=[0,1], int T=20
  #pragma opt out A
  for (int t = 0; t < T; t++)
    for (int i = 1; i < N-1; i++)
      for (int j = 1; j < N-1; j++)
        $\arr{A}{i}{j}$ = 0.2 * ($\arr{A}{i-1}{j}$ +
          $\arr{A}{i}{j-1}$ + $\arr{A}{i}{j}$ +
          $\arr{A}{i}{j+1}$ + $\arr{A}{i+1}{j}$);
  #pragma opt end
\end{lstlisting}

Our tool is an open-source command-line utility, which only requires the user
to provide a program written in C extended with the above \verb|#pragma|
statements.  The Pareto optimal programs are all automatically generated by
our tool, each is accompanied with our estimations of its latency and resource
usage, and an analyzed bound on round-off errors.  These programs can then be
given to Vivado HLS to be synthesized into circuits.
